body {
  color: white;
  margin: 0;
  overflow: hidden;
  font-family: 'Quicksand', sans-serif;
  position: relative;
}

/* keep the dark background intact — DO NOT fade it on joined */
/* removed the previous body.joined::before { opacity: 0 } rule so it will remain visible */

body::before {
  content: "";
  position: fixed;
  top:0; left:0;
  width: 100%; height: 100%;
  background: linear-gradient(135deg, #1a1a1a, #696969);
  /* transition: opacity 1.2s ease;  <-- you can keep the transition if you want, but do not change opacity later */
  z-index: -1;
}

body.joined::before {
  opacity: 0; /* fade out dark overlay */
}


#join-screen {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(255, 255, 255, 0);
  backdrop-filter: blur(0px) saturate(150%);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 100;
  transition: opacity 0.3s ease, transform 0.3s ease;
}

#join-screen.fade-out {
  opacity: 0;
  transform: scale(0.95);
}



@keyframes joinScreenPop {
  to { transform: scale(1); }
}

#join-screen h1 { 
  font-size: 3rem; 
  margin-bottom: 30px; 
  text-transform: uppercase;
  letter-spacing: 2px;
  text-shadow: 0 4px 15px rgba(0,0,0,0.5);
  transition: transform 0.3s ease;
}

#join-screen h1:hover {
  transform: scale(1.05) rotate(-1deg);
}

#join-screen input { 
  padding: 12px; 
  font-size: 18px; 
  margin-bottom: 25px; 
  width: 240px; 
  text-align: center; 
  border: none; 
  border-radius: 15px; 
  background: rgba(255,255,255,0.1); 
  backdrop-filter: blur(8px); 
  color: white;
  transition: all 0.3s ease;
}

#join-screen input::placeholder { 
  color: rgba(255, 255, 255, 0.534);
}

#join-screen input:focus {
  outline: none;
  background: rgba(255,255,255,0.2);
  box-shadow: 0 0 5px rgba(255,255,255,0.3);
  transform: scale(1.02);
}

.class-choices { 
  display: flex; 
  gap: 15px; 
  margin-bottom: 25px; 
}

.dropdown { 
  display: none;
  transform: scale(0);
  gap: 5px; 
  margin-bottom: 0px; 
  transition: transform 0.3s ease;
}

.class-option { 
  width: 70px; 
  height: 70px; 
  padding: 0;             /* remove default button padding */
  border-radius: 20%; 
  border: 2px solid rgba(255,255,255,0.7); 
  background: none;       /* no extra background behind image */
  display: inline-block; 
  cursor: pointer; 
  transition: transform 0.3s ease, border 0.3s ease, box-shadow 0.3s ease;
  overflow: hidden;
  transform: scale(0.7);
}

.class-option img {
  width: 100%;
  height: 100%;
  object-fit: cover;      /* fills the square/rounded button */
  display: block;         /* removes inline gap */
  border-radius: 10%;
}

.class-option:hover { 
  transform: scale(0.785);
  box-shadow: 0 0 15px rgba(255,255,255,0.6);
}

.class-option.selected { 
  border: 3px solid #fff; 
  box-shadow: 0 0 20px rgba(255,255,255,0.9);
}

.class-copys { 
  width: 70px; 
  height: 70px; 
  padding: 0;             /* remove default button padding */
  border-radius: 20%; 
  border: 2px solid rgba(255,255,255,0.7); 
  background: none;       /* no extra background behind image */
  display: inline-block; 
  cursor: pointer; 
  transition: transform 0.3s ease, border 0.3s ease, box-shadow 0.3s ease;
  overflow: hidden;
}

.class-copys img {
  width: 100%;
  height: 100%;
  object-fit: cover;      /* fills the square/rounded button */
  display: block;         /* removes inline gap */
  border-radius: 10%;
}

.class-copys:hover { 
  transform: scale(1.15);
  box-shadow: 0 0 15px rgba(255,255,255,0.6);
}

.class-copys.selected { 
  border: 3px solid #fff; 
  box-shadow: 0 0 20px rgba(255,255,255,0.9);
}

#join-btn { 
  padding: 12px 25px; 
  font-size: 18px; 
  cursor: pointer; 
  border: none; 
  background: rgba(40, 167, 69, 0.8); 
  color: white; 
  border-radius: 15px; 
  backdrop-filter: blur(8px);
  transition: all 0.3s ease;
}

#join-btn:hover:not(:disabled) { 
  transform: scale(1.05); 
  background: rgba(40, 167, 69, 1); 
  box-shadow: 0 8px 25px rgba(40, 167, 69, 0.5);
}

#join-btn:disabled { 
  background: rgba(85,85,85,0.7); 
  cursor: not-allowed; 
}

#overlay-message {
  position: fixed; 
  top: 0; left: 0; 
  width: 100%; height: 100%;
  display: flex; 
  justify-content: center; 
  align-items: center;
  font-size: 5rem; 
  color: red; 
  font-weight: bold; 
  text-shadow: 2px 2px 10px black;
  pointer-events: none; 
  opacity: 0; 
  transition: opacity 0.5s, transform 0.5s;
  z-index: 50;
  transform: scale(0.8);
}

#overlay-message.show {
  opacity: 1;
  transform: scale(1);
}
/* Default: before game starts */
#ability-ui {
  position: fixed;       /* fix it on screen */
  bottom: 20px;
  left: 20px;
  background: rgba(85, 85, 85, 0.8); 
  color: white;
  border-radius: 50%;
  width: 100px;
  height: 100px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  font-family: 'Quicksand', sans-serif;
  cursor: not-allowed;
  backdrop-filter: blur(8px);
  transition: all 0.3s ease;
  z-index: 9999;        /* ensure it’s on top of canvas */
}

/* After game starts (ready to use) */
body.joined #ability-ui:not(.disabled) {
  background: rgba(0, 123, 255, 0.8);
  cursor: pointer;
  box-shadow: 0 0 15px rgba(0,123,255,0.5);
}

body.joined #ability-ui:hover:not(.disabled) {
  background: rgba(0,123,255,1);
  transform: scale(1.08);
  box-shadow: 0 0 25px rgba(0,123,255,0.8);
}

/* Cooldown (still works after game starts) */
#ability-ui.disabled {
  background: rgba(85,85,85,0.6);
  cursor: not-allowed;
  box-shadow: none;
}


#ability-name {
  font-size: 14px;
  font-weight: bold;
  letter-spacing: 1px;
}

#ability-timer {
  font-size: 12px;
  margin-top: 4px;
  opacity: 0.9;
}

.class-option[data-class="monkey"] img {
  transform: scale(1.38);   /* make monkey image larger */
  position: relative;
  z-index: 2;              /* bring it above the button */
}

.class-option[data-class="monkey"] {
  overflow: visible;       /* allow the image to stick out */
}

.class-option[data-class="clown"] {
  overflow: visible;        /* allow sticking out */
  display: flex;            /* use flexbox to center */
  justify-content: center;  /* center horizontally */
  align-items: flex-start;  /* align to the top of button */
}

.class-option[data-class="clown"] img {
  width: 175%;          /* smaller than the button */
  height: auto;
  position: relative;
  top: -45px;
  left: 0.3px;
  z-index: 2;
}

.class-option[data-class="mole"] {
  overflow: visible;        /* allow sticking out */
  display: flex;            /* use flexbox to center */
  justify-content: center;  /* center horizontally */
  align-items: flex-start;  /* align to the top of button */
}

.class-option[data-class="mole"] img {
  width: 160%;          /* smaller than the button */
  height: auto;
  position: relative;
  top: -37px;
  z-index: 2;
}

.class-option[data-class="alien"] {
  overflow: visible;        /* allow sticking out */
  display: flex;            /* use flexbox to center */
  justify-content: center;  /* center horizontally */
  align-items: flex-start;  /* align to the top of button */
}

.class-option[data-class="alien"] img {
  width: 140%;          /* smaller than the button */
  height: auto;
  position: relative;
  top: -25px;
  z-index: 2;
}

.class-option[data-class="scientist"] {
  overflow: visible;        /* allow sticking out */
  display: flex;            /* use flexbox to center */
  justify-content: center;  /* center horizontally */
  align-items: flex-start;  /* align to the top of button */
}

.class-option[data-class="scientist"] img {
  width: 155%;          /* smaller than the button */
  height: auto;
  position: relative;
  top: -35px;
  z-index: 2;
}

.class-option[data-class="snowman"] {
  overflow: visible;        /* allow sticking out */
  display: flex;            /* use flexbox to center */
  justify-content: center;  /* center horizontally */
  align-items: flex-start;  /* align to the top of button */
}

.class-option[data-class="snowman"] img {
  width: 175%;          /* smaller than the button */
  height: auto;
  position: relative;
  top: -47px;
  left: 0.3px;
  z-index: 2;
}

.class-option[data-class="samurai"] {
  overflow: visible;        /* allow sticking out */
  display: flex;            /* use flexbox to center */
  justify-content: center;  /* center horizontally */
  align-items: flex-start;  /* align to the top of button */
}

.class-option[data-class="samurai"] img {
  width: 165%;          /* smaller than the button */
  height: auto;
  position: relative;
  left: 1.2px;
  top: -37px;
  z-index: 2;
}




.class-option[data-class="monkey2"] {
  overflow: visible;        /* allow sticking out */
  display: flex;            /* use flexbox to center */
  justify-content: center;  /* center horizontally */
  align-items: flex-start;  /* align to the top of button */
}

.class-option[data-class="monkey2"] img {
  width: 140%;          /* smaller than the button */
  height: auto;
  position: relative;
  top: -23px;
  z-index: 2;
}

.class-option[data-class="clown2"] {
  overflow: visible;        /* allow sticking out */
  display: flex;            /* use flexbox to center */
  justify-content: center;  /* center horizontally */
  align-items: flex-start;  /* align to the top of button */
}

.class-option[data-class="clown2"] img {
  width: 169%;          /* smaller than the button */
  height: auto;
  position: relative;
  top: -41px;
  left: 1.5px;
  z-index: 2;
}

.class-option[data-class="mole2"] {
  overflow: visible;        /* allow sticking out */
  display: flex;            /* use flexbox to center */
  justify-content: center;  /* center horizontally */
  align-items: flex-start;  /* align to the top of button */
}

.class-option[data-class="mole2"] img {
  width: 160%;          /* smaller than the button */
  height: auto;
  position: relative;
  top: -37px;
  left: 2px;
  z-index: 2;
}

.class-option[data-class="alien2"] {
  overflow: visible;        /* allow sticking out */
  display: flex;            /* use flexbox to center */
  justify-content: center;  /* center horizontally */
  align-items: flex-start;  /* align to the top of button */
}

.class-option[data-class="alien2"] img {
  width: 140%;          /* smaller than the button */
  height: auto;
  position: relative;
  top: -25px;
  z-index: 2;
}

.class-option[data-class="scientist2"] {
  overflow: visible;        /* allow sticking out */
  display: flex;            /* use flexbox to center */
  justify-content: center;  /* center horizontally */
  align-items: flex-start;  /* align to the top of button */
}

.class-option[data-class="scientist2"] img {
  width: 155%;          /* smaller than the button */
  height: auto;
  position: relative;
  top: -35px;
  z-index: 2;
}

.class-option[data-class="snowman2"] {
  overflow: visible;        /* allow sticking out */
  display: flex;            /* use flexbox to center */
  justify-content: center;  /* center horizontally */
  align-items: flex-start;  /* align to the top of button */
}

.class-option[data-class="snowman2"] img {
  width: 210%;          /* smaller than the button */
  height: auto;
  position: relative;
  top: -55px;
  left: 0.3px;
  z-index: 2;
}

.class-option[data-class="samurai2"] {
  overflow: visible;        /* allow sticking out */
  display: flex;            /* use flexbox to center */
  justify-content: center;  /* center horizontally */
  align-items: flex-start;  /* align to the top of button */
}

.class-option[data-class="samurai2"] img {
  width: 165%;          /* smaller than the button */
  height: auto;
  position: relative;
  left: 1.2px;
  top: -37px;
  z-index: 2;
}





.class-copys[data-copy="monkey"] img {
  transform: scale(1.38);   /* make monkey image larger */
  position: relative;
  z-index: 2;              /* bring it above the button */
}

.class-copys[data-copy="monkey"] {
  overflow: visible;       /* allow the image to stick out */
}

.class-copys[data-copy="clown"] {
  overflow: visible;        /* allow sticking out */
  display: flex;            /* use flexbox to center */
  justify-content: center;  /* center horizontally */
  align-items: flex-start;  /* align to the top of button */
}

.class-copys[data-copy="clown"] img {
  width: 175%;          /* smaller than the button */
  height: auto;
  position: relative;
  top: -45px;
  left: 0.3px;
  z-index: 2;
}

.class-copys[data-copy="mole"] {
  overflow: visible;        /* allow sticking out */
  display: flex;            /* use flexbox to center */
  justify-content: center;  /* center horizontally */
  align-items: flex-start;  /* align to the top of button */
}

.class-copys[data-copy="mole"] img {
  width: 160%;          /* smaller than the button */
  height: auto;
  position: relative;
  top: -37px;
  z-index: 2;
}

.class-copys[data-copy="alien"] {
  overflow: visible;        /* allow sticking out */
  display: flex;            /* use flexbox to center */
  justify-content: center;  /* center horizontally */
  align-items: flex-start;  /* align to the top of button */
}

.class-copys[data-copy="alien"] img {
  width: 140%;          /* smaller than the button */
  height: auto;
  position: relative;
  top: -25px;
  z-index: 2;
}

.class-copys[data-copy="scientist"] {
  overflow: visible;        /* allow sticking out */
  display: flex;            /* use flexbox to center */
  justify-content: center;  /* center horizontally */
  align-items: flex-start;  /* align to the top of button */
}

.class-copys[data-copy="scientist"] img {
  width: 155%;          /* smaller than the button */
  height: auto;
  position: relative;
  top: -35px;
  z-index: 2;
}

.class-copys[data-copy="snowman"] {
  overflow: visible;        /* allow sticking out */
  display: flex;            /* use flexbox to center */
  justify-content: center;  /* center horizontally */
  align-items: flex-start;  /* align to the top of button */
}

.class-copys[data-copy="snowman"] img {
  width: 175%;          /* smaller than the button */
  height: auto;
  position: relative;
  top: -47px;
  left: 0.3px;
  z-index: 2;
}

.class-copys[data-copy="samurai"] {
  overflow: visible;        /* allow sticking out */
  display: flex;            /* use flexbox to center */
  justify-content: center;  /* center horizontally */
  align-items: flex-start;  /* align to the top of button */
}

.class-copys[data-copy="samurai"] img {
  width: 165%;          /* smaller than the button */
  height: auto;
  position: relative;
  left: 1.2px;
  top: -37px;
  z-index: 2;
}

.vote-btn {
  padding: 12px 25px;
  font-size: 18px;
  cursor: pointer;
  border: none;
  border-radius: 15px;
  background: rgba(0,123,255,0.8);
  color: white;
  font-family: 'Quicksand', sans-serif;
  backdrop-filter: blur(8px);
  transition: all 0.3s ease;
}

.vote-btn:hover:not(:disabled) {
  transform: scale(1.05);
  background: rgba(0,123,255,1);
  box-shadow: 0 8px 25px rgba(0,123,255,0.5);
}

.vote-btn:disabled {
  background: rgba(85,85,85,0.7);
  cursor: not-allowed;
}

.vote-btn.selected {
  background: rgba(0,200,0,0.9);
  box-shadow: 0 0 20px rgba(0,200,0,0.7);
  transform: scale(1.05);
}

#overlay-message {
  position: fixed;
  z-index: 500;
  opacity: 0;
  transition: opacity 0.5s ease;
}

#overlay-message.show {
  opacity: 1;
}

/* Waiting split screen (left white overlay, right remains transparent so background stays) */
#waiting-screen {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  pointer-events: none;
  z-index: 1000; /* above everything */
}

/* left white panel slides in from left */
.wait-left, .wait-right {
  position: absolute;
  top: 0;
  height: 100%;
  transition: transform 1.2s cubic-bezier(.2,.9,.2,1), opacity 0.8s ease;
  will-change: transform, opacity;
}

/* left = white overlay (hidden by translating left) */
.wait-left {
  left: 0;
  width: 50%;
  background: white;
  transform: translateX(-100%);
  opacity: 0;
  box-shadow: 12px 0 40px rgba(0,0,0,0.12);
  pointer-events: none;
}

/* right: transparent (keeps the same background visible) */
.wait-right {
  right: 0;
  width: 50%;
  background: transparent; /* IMPORTANT: keep transparent so body ::before gradient remains */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-end;
  padding-bottom: 14%;
  color: white;
  pointer-events: none;
  transform: translateX(0);
  opacity: 1;
}

/* activated state - reveal left panel */
#waiting-screen.active .wait-left {
  transform: translateX(0);
  opacity: 1;
}


/* cloned character (we animate a cloned IMG element) */
.waiting-clone {
  position: fixed;
  z-index: 1100; /* above overlays */
  width: auto;
  height: auto;
  transition: left 1.1s cubic-bezier(.2,.9,.2,1), top 1.1s cubic-bezier(.2,.9,.2,1), width 1.1s cubic-bezier(.2,.9,.2,1), height 1.1s cubic-bezier(.2,.9,.2,1), transform 1.1s cubic-bezier(.2,.9,.2,1), opacity 0.5s ease;
  pointer-events: none;
  will-change: left, top, width, height, transform;
  transform-origin: center center;
}

/* final scale/size (optional) */
.waiting-clone.final {
  opacity: 1;
}

#waiting-text {
  position: absolute;      /* take it out of flex flow */
  top: 20%;                /* quarter down the screen */
  left: 50%;
  transform: translateX(-50%);
  font-size: 2rem;
  text-align: center;
  pointer-events: none;
  opacity: 0; 
  transition: opacity 0.9s ease;
  width: 100%;             /* keep centered nicely */
}


#waiting-screen.active #waiting-text {
  opacity: 1;                 /* fade in when the screen is active */
}

/* --- Unlock Animation Overlay --- */
#unlock-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0.85);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  overflow: hidden;
  transition: opacity 0.6s;
  opacity: 0;
  pointer-events: none;
}

#unlock-overlay.active {
  opacity: 1;
  pointer-events: all;
}

.unlock-strip {
  display: flex;
  align-items: center;
  animation: spinCharacters 4s cubic-bezier(0.25, 1, 0.5, 1);
  transform: translateX(0);
}

.unlock-strip img {
  width: 120px;
  height: 120px;
  margin: 0 30px;
  filter: brightness(0.7);
  transition: transform 0.3s, filter 0.3s;
  z-index: 5;
}

.unlock-strip img.highlight {
  transform: scale(1.4);
}

.unlock-frame {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 140px;
  height: 140px;
  transform: translate(-50%, -50%);
  border: 4px solid white;
  border-radius: 16px;
  box-shadow: 0 0 20px 5px white;
}

.unlock-text {
  position: absolute;
  bottom: 10%;
  width: 100%;
  text-align: center;
  color: white;
  font-family: "Quicksand", sans-serif;
  font-size: 28px;
}

